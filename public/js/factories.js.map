{"version":3,"sources":["character.js","initials.js","role.js","userId.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"factories.js","sourcesContent":["angular\n\t.module('inspinia')\t\n\t.factory('charactersFactory', function(){\n\t\treturn {\n\t\t\tcalculate : function(number, text){\n\t\t\t\tif(!text || !text.length) return 0;\n\t\t\t\tvar length = text.length;\n\t\t\t\tif(number.match(/^50001/)){\n\t\t\t\t\tif(text.match(/^[ا-ی]/)){\n\t\t\t\t\t\treturn this.gamaPersian(length);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.gamaLatin(length);\n\t\t\t\t} else {\n\t\t\t\t\tif(text.match(/^[ا-ی]/)){\n\t\t\t\t\t\treturn this.otherPersian(length);\n\t\t\t\t\t}\n\t\t\t\t\treturn this.otherLatin(length);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tgamaPersian : function(length){\n\t\t\t\tif(length <= 70) return 1;\n\t\t\t\tif(length <= 132) return 2;\n\t\t\t\tif(length <= 198) return 3;\n\t\t\t\tif(length <= 264) return 4;\n\t\t\t\tif(length <= 330) return 5;\n\t\t\t\tif(length <= 396) return 6;\n\t\t\t\tif(length <= 462) return 7;\n\t\t\t\tif(length <= 528) return 8;\n\t\t\t\tif(length <= 594) return 9;\n\t\t\t\tif(length <= 660) return 10;\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\tgamaLatin : function(length){\n\t\t\t\tif(length <= 140) return 1;\n\t\t\t\tif(length <= 264) return 2;\n\t\t\t\tif(length <= 396) return 3;\n\t\t\t\tif(length <= 528) return 4;\n\t\t\t\tif(length <= 660) return 5;\n\t\t\t\tif(length <= 792) return 6;\n\t\t\t\tif(length <= 924) return 7;\n\t\t\t\tif(length <= 1056) return 8;\n\t\t\t\tif(length <= 1188) return 9;\n\t\t\t\tif(length <= 1320) return 10;\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\totherPersian : function(length){\n\t\t\t\tif(length <= 70) return 1;\n\t\t\t\tif(length <= 134) return 2;\n\t\t\t\tif(length <= 201) return 3;\n\t\t\t\tif(length <= 268) return 4;\n\t\t\t\tif(length <= 335) return 5;\n\t\t\t\tif(length <= 402) return 6;\n\t\t\t\tif(length <= 469) return 7;\n\t\t\t\tif(length <= 536) return 8;\n\t\t\t\tif(length <= 603) return 9;\n\t\t\t\tif(length <= 670) return 10;\n\t\t\t\treturn false;\n\t\t\t},\n\n\t\t\totherLatin : function(length){\n\t\t\t\tif(length <= 160) return 1;\n\t\t\t\tif(length <= 306) return 2;\n\t\t\t\tif(length <= 459) return 3;\n\t\t\t\tif(length <= 612) return 4;\n\t\t\t\tif(length <= 765) return 5;\n\t\t\t\tif(length <= 918) return 6;\n\t\t\t\tif(length <= 1071) return 7;\n\t\t\t\tif(length <= 1224) return 8;\n\t\t\t\tif(length <= 1377) return 9;\n\t\t\t\tif(length <= 1530) return 10;\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\t});","angular\n\t.module('inspinia')\t\n\t.factory('initialsFactory', ['$http', function($http){\n\t\tvar makeRequest = function(url, data){\n\t\t\treturn $http({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: url,\n\t\t\t\tdata: data\n\t\t\t});\n\t\t}\n\t\tvar get = function(url, data){\n\t\t\treturn this.makeRequest(url, data);\n\t\t}\n\t\treturn {get: get, makeRequest:makeRequest};\n\t}]);","angular\n\t.module('inspinia')\t\n\t.factory('roleFactory', ['$rootScope', '$http', function($rootScope, $http, userIdFactory){\n\t\t$rootScope.requestForUserRole = function(){\n\t\t\treturn $http({\n\t\t\t\turl: 'api/users/role',\n\t\t\t\tmethod: 'post',\n\t\t\t\tdata: {id: $rootScope.user.id}\n\t\t\t});\n\t\t}\n\t\tvar get = function(){\n\t\t\t$rootScope.$watch('user', function(userId){\n\t\t\t\tif(typeof userId == 'undefined') return;\n\t\t\t\treturn $rootScope.requestForUserRole().then(function(res){\n\t\t\t\t\t$rootScope.user.role = res.data;\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t\treturn {get: get, request: $rootScope.request};\n\t}]);","angular\n\t.module('inspinia')\t\n\t.factory('userIdFactory', function($rootScope, $http, $state){\n\t\t$rootScope.user = {};\n\t\tvar getUserInfo = function(toState){\n\t\t\treturn $http({\n\t\t\t\tmethod: 'post',\n\t\t\t\turl: 'api/users/user-info'\n\t\t\t}).then(function(res){\n\t\t\t\t$rootScope.user.id = res.data.id;\n\t\t\t\tif(res.data.id == null) {\n\t\t\t\t\twindow.location.href = 'users/login';\n\t\t\t\t}\n\t\t\t\t$rootScope.user = res.data;\n\t\t\t\t$rootScope.userTotalCredit = res.data.credit;\n\t\t\t\tvar socket = io('192.168.33.21:8890');\n\t\t\t\tsocket.on('notification_'+res.data.id, function(data){\n\t\t\t\t\t$rootScope.$broadcast('notification', data);\n\t\t\t\t    // notify({ message: 'Info - This is a Inspinia info notification', classes: 'alert-info', templateUrl: 'views/common/notify.html'});\n\t\t\t\t});\n\t\t\t\t$rootScope.controlState(toState, $state);\n\t\t\t}, function error(){\n\t\t\t\twindow.location.href = 'users/login';\n\t\t\t});\n\t\t};\n\t\t$rootScope.check_permission = function(permission){\n\t\t\tif(typeof $rootScope.user.permissions == 'undefined') return;\n\t\t\treturn ($rootScope.user.permissions[permission] == 1);\n\t\t};\n\t\t$rootScope.controlState = function(toState, $state){\n            var permission = toState.permission;\n            if(typeof permission != 'undefined' && $rootScope.check_permission(permission) == false){\n                $state.go('dashboards.dashboard_1');\n            }               \n\t\t}\n\t\treturn {getUserInfo: getUserInfo};\n\t});"],"sourceRoot":"/source/"}