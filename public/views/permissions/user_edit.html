<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>{{ 'USER_PERMISSIONS' | translate }}</h2>
        <ol class="breadcrumb">
            <li>
                <a href="index.html">{{ 'HOME' | translate }}</a>
            </li>
            <li class="active">
                <strong>{{ 'USER_PERMISSIONS' | translate }}</strong>
            </li>
        </ol>
    </div>
    <div class="col-lg-2">

    </div>
</div>
<div class="row" ng-controller="userPermissionsController as ctrl">
    <div class="col-lg-12">
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h2>{{ 'USER_PERMISSIONS' | translate }} {{ 'FOR' | translate }} {{ username }}</h2>
            </div>
            <div class="ibox-content">
                <div class="row">
                    <div class="col-md-12">
                        <div class="col-md-3 col-sm-3 col-xs-12">
                            <label class="form-group">
                                {{ 'PERMISSION_GROUP' | translate }}
                            </label>
                        </div>
                        <div class="col-md-3 col-sm-3 col-xs-12">
                            <select ng-model="selectedPermissionGroup" class="form-control" ng-change="permissionGroupChanged()">
                                <option ng-repeat="permissionGroup in permissionGroups" value="{{ permissionGroup }}">
                                    {{ permissionGroup.title }}
                                </option>
                            </select>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <form method="post"
                            ng-controller="ajaxFormController as form"
                            action="{{ userPermissionsURL }}"
                            ng-submit="form.submit($event)"
                            class="form-horizontal"
                            id="editNewPermissionGroup" 
                            ng-show="info"
                        >
                            <input type="hidden" name="_method" value="PUT">
                            <div ng-include="'views/includes/form_response.html'"></div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-3 col-sm-3 col-xs-12" ng-repeat="permission in permissions">
                                        <label for="{{ permission }}">{{ permission | uppercase | translate }}</label>
                                        <input ng-if="info.permissions[permission] == 0 || info.permissions[permission] == 1" type="checkbox" ng-model="info.permissions[permission]" id="{{ permission }}" ng-checked="info.permissions[permission]==1">
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <button type="submit" class="btn btn-primary" ng-disabled="!info">{{ 'UPDATE_PERMISSION' | translate }}</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="ibox float-e-margins">
            <div class="ibox-title">
                <h2>{{ 'PRICE_GROUP' | translate }} {{ 'FOR' | translate }} {{ username }}</h2>
            </div>
            <div class="ibox-content">
                <div class="row">
                    <div class="col-md-12">
                        <form method="post"
                            ng-controller="ajaxFormController as form"
                            action="{{ userPriceGroupURL }}"
                            ng-submit="form.submit($event)"
                            class="form-horizontal"
                            id="editUserPriceGroup" 
                            ng-show="priceGroups"
                        >
                            <input type="hidden" name="_method" value="PUT">
                            <div ng-include="'views/includes/form_response.html'"></div>
                            <div class="form-group">
                                <div class="row">
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <label for="{{ permission }}">{{ 'PRICE_GROUP' | translate }}</label>
                                    </div>
                                    <div class="col-md-9 col-sm-9 col-xs-12 float_right">
                                        <select class="form-control" ng-model="info.priceGroup" ng-disabled="customCreditFluent.length">
                                            <option ng-repeat="priceGroup in priceGroups" ng-selected="fluentCredits.group == priceGroup.id" value="{{ priceGroup.id }}">
                                                {{ priceGroup.title }}
                                            </option>
                                        </select>
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="row" ng-repeat="(key,custom) in customCreditFluent">
                                    <label class="col-md-1 col-sm-9 col-xs-12">
                                        {{ 'CEIL' | translate }}
                                    </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <input type="number" class="form-control" ng-model="info.customCreditFluent[key].ceil">
                                    </div>
                                    <label class="col-md-1 col-sm-9 col-xs-12">
                                        {{ 'FEE' | translate }}
                                    </label>
                                    <div class="col-md-3 col-sm-3 col-xs-12">
                                        <input type="number" class="form-control" ng-model="info.customCreditFluent[key].fee">
                                    </div>
                                    <div class="col-md-3 col-sm-3 col-xs-12" style="direction: rtl">
                                        <a href="" ng-click="removeFluentCustom(key)" class="btn btn-danger">
                                            {{ 'REMOVE' | translate }}
                                        </a>
                                    </div>
                                </div>
                                <div class="col-md-12 col-sm-12 col-xs-12">
                                    <a href="" class="btn btn-primary" ng-click="addNewCustomCredit()">
                                        {{ 'ADD' | translate }}
                                    </a>
                                </div>
                            </div>
                            <div class="row">
                                <button type="submit" class="btn btn-primary" ng-disabled="!info" ng-click="submitFluentCredit()">{{ 'SUBMIT' | translate }}</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>